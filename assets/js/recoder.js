(()=>{function e(e,n,t,r,o,i,c){try{var a=e[i](c),s=a.value}catch(e){return void t(e)}a.done?n(s):Promise.resolve(s).then(r,o)}var n,t=document.getElementById("startBtn"),r=document.getElementById("preview"),o=function e(){t.innerText="Stop Recording",t.removeEventListener("click",e),t.addEventListener("click",i);var r=new MediaRecorder(n);r.ondataavailable=function(e){console.log("recording done"),console.log(e),console.log(e.data)},console.log(r),r.start(),console.log(r),setTimeout((function(){r.stop()}),1e4)},i=function e(){t.innerText="Start Recording",t.removeEventListener("click",e),t.addEventListener("click",o)};(function(){var t,o=(t=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.mediaDevices.getUserMedia({audio:!0,video:{width:500,height:500}});case 2:n=e.sent,r.srcObject=n,r.play();case 5:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(o,i){var c=t.apply(n,r);function a(n){e(c,o,i,a,s,"next",n)}function s(n){e(c,o,i,a,s,"throw",n)}a(void 0)}))});return function(){return o.apply(this,arguments)}})()(),t.addEventListener("click",o)})();